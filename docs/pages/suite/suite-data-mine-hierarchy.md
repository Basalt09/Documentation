---
title:  Data Mine Hierarchy
summary: "A data mine provides the tools to build indicators, produce data visualization plotters, and process markets data, with minimal coding requirements."
sidebar: suite_sidebar
permalink: suite-data-mine-hierarchy.html
toc: false
---

{% include note.html content="Hover your mouse over a node for a tooltip definition, and click to get all the details." %}

<table class='hierarchyTable'>
    <thead>
        <tr>
            <th>
                <a href='#data-mine' data-toggle='tooltip' data-original-title='{{site.data.data_mine.data_mine}}'><img src='images/icons/data-mine.png' /><br />Data Mine</a>
            </th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#indicator-bot' data-toggle='tooltip' data-original-title='{{site.data.data_mine.indicator_bot}}'><img src='images/icons/indicator-bot.png' /><br />Indicator Bot</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#process-definition' data-toggle='tooltip' data-original-title='{{site.data.data_mine.process_definition}}'><img src='images/icons/process-definition.png' /><br />Process Definition</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#process-output' data-toggle='tooltip' data-original-title='{{site.data.data_mine.process_output}}'><img src='images/icons/process-output.png' /><br />Process Output</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#output-dataset' data-toggle='tooltip' data-original-title='{{site.data.data_mine.output_dataset}}'><img src='images/icons/output-dataset.png' /><br />Output Dataset</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#process-dependencies' data-toggle='tooltip' data-original-title='{{site.data.data_mine.process_dependencies}}'><img src='images/icons/process-dependencies.png' /><br />Process Dependencies</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#status-dependency' data-toggle='tooltip' data-original-title='{{site.data.data_mine.status_dependency}}'><img src='images/icons/status-dependency.png' /><br />Status Dependency</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#data-dependency' data-toggle='tooltip' data-original-title='{{site.data.data_mine.data_dependency}}'><img src='images/icons/data-dependency.png' /><br />Data Dependency</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#status-report' data-toggle='tooltip' data-original-title='{{site.data.data_mine.status_report}}'><img src='images/icons/status-report.png' /><br />Status Report</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#execution-started-event' data-toggle='tooltip' data-original-title='{{site.data.data_mine.execution_started_event}}'><img src='images/icons/execution-started-event.png' /><br />Execution Started Event</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#execution-finished-event' data-toggle='tooltip' data-original-title='{{site.data.data_mine.execution_finished_event}}'><img src='images/icons/execution-finished-event.png' /><br />Execution Finished Event</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#product-definition' data-toggle='tooltip' data-original-title='{{site.data.data_mine.product_definition}}'><img src='images/icons/product-definition.png' /><br />Product Definition</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#dataset-definition' data-toggle='tooltip' data-original-title='{{site.data.data_mine.dataset_definition}}'><img src='images/icons/dataset-definition.png' /><br />Dataset Definition</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#record-definition' data-toggle='tooltip' data-original-title='{{site.data.data_mine.record_definition}}'><img src='images/icons/record-definition.png' /><br />Record Definition</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#record-property' data-toggle='tooltip' data-original-title='{{site.data.data_mine.record_property}}'><img src='images/icons/record-property.png' /><br />Record Property</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#formula' data-toggle='tooltip' data-original-title='{{site.data.data_mine.formula}}'><img src='images/icons/formula.png' /><br />Formula</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#calculations-procedure' data-toggle='tooltip' data-original-title='{{site.data.data_mine.calculations_procedure}}'><img src='images/icons/calculations-procedure.png' /><br />Calculations Procedure</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#procedure-loop' data-toggle='tooltip' data-original-title='{{site.data.data_mine.procedure_loop}}'><img src='images/icons/procedure-loop.png' /><br />Procedure Loop</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#javascript-code' data-toggle='tooltip' data-original-title='{{site.data.data_mine.javascript_code}}'><img src='images/icons/javascript-code.png' /><br />JavaScript Code</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#procedure-initialization' data-toggle='tooltip' data-original-title='{{site.data.data_mine.procedure_initialization}}'><img src='images/icons/procedure-initialization.png' /><br />Procedure Initialization</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#javascript-code' data-toggle='tooltip' data-original-title='{{site.data.data_mine.javascript_code}}'><img src='images/icons/javascript-code.png' /><br />JavaScript Code</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#data-building-procedure' data-toggle='tooltip' data-original-title='{{site.data.data_mine.data_building_procedure}}'><img src='images/icons/data-building-procedure.png' /><br />Data Building Procedure</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#procedure-loop' data-toggle='tooltip' data-original-title='{{site.data.data_mine.procedure_loop}}'><img src='images/icons/procedure-loop.png' /><br />Procedure Loop</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#javascript-code' data-toggle='tooltip' data-original-title='{{site.data.data_mine.javascript_code}}'><img src='images/icons/javascript-code.png' /><br />JavaScript Code</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#procedure-initialization' data-toggle='tooltip' data-original-title='{{site.data.data_mine.procedure_initialization}}'><img src='images/icons/procedure-initialization.png' /><br />Procedure Initialization</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#javascript-code' data-toggle='tooltip' data-original-title='{{site.data.data_mine.javascript_code}}'><img src='images/icons/javascript-code.png' /><br />JavaScript Code</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#plotter' data-toggle='tooltip' data-original-title='{{site.data.data_mine.plotter}}'><img src='images/icons/plotter.png' /><br />Plotter</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#plotter-module' data-toggle='tooltip' data-original-title='{{site.data.data_mine.plotter_module}}'><img src='images/icons/plotter-module.png' /><br />Plotter Module</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#plotter-panel' data-toggle='tooltip' data-original-title='{{site.data.data_mine.plotter_panel}}'><img src='images/icons/plotter-panel.png' /><br />Plotter Panel</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#panel-data' data-toggle='tooltip' data-original-title='{{site.data.data_mine.panel_data}}'><img src='images/icons/panel-data.png' /><br />Panel Data</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#data-formula' data-toggle='tooltip' data-original-title='{{site.data.data_mine.data_formula}}'><img src='images/icons/data-formula.png' /><br />Data Formula</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#shapes' data-toggle='tooltip' data-original-title='{{site.data.data_mine.shapes}}'><img src='images/icons/shapes.png' /><br />Shapes</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#chart-points' data-toggle='tooltip' data-original-title='{{site.data.data_mine.chart_points}}'><img src='images/icons/chart-points.png' /><br />Chart Points</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#point' data-toggle='tooltip' data-original-title='{{site.data.data_mine.point}}'><img src='images/icons/point.png' /><br />Point</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#point-formula' data-toggle='tooltip' data-original-title='{{site.data.data_mine.point_formula}}'><img src='images/icons/point-formula.png' /><br />Point Formula</a>
            </td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#polygon' data-toggle='tooltip' data-original-title='{{site.data.data_mine.polygon}}'><img src='images/icons/polygon.png' /><br />Polygon</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#polygon-vertex' data-toggle='tooltip' data-original-title='{{site.data.data_mine.polygon_vertex}}'><img src='images/icons/polygon-vertex.png' /><br />Polygon Vertex</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#polygon-border' data-toggle='tooltip' data-original-title='{{site.data.data_mine.polygon_border}}'><img src='images/icons/polygon-border.png' /><br />Polygon Border</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#style' data-toggle='tooltip' data-original-title='{{site.data.data_mine.style}}'><img src='images/icons/style.png' /><br />Style</a>
            </td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#style-condition' data-toggle='tooltip' data-original-title='{{site.data.data_mine.style_condition}}'><img src='images/icons/style-condition.png' /><br />Style Condition</a>
            </td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-line.png' />
            </td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#style' data-toggle='tooltip' data-original-title='{{site.data.data_mine.style}}'><img src='images/icons/style.png' /><br />Style</a>
            </td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#polygon-body' data-toggle='tooltip' data-original-title='{{site.data.data_mine.polygon_body}}'><img src='images/icons/polygon-body.png' /><br />Polygon Body</a>
            </td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-fork.png' />
            </td>
            <td>
                <a href='#style' data-toggle='tooltip' data-original-title='{{site.data.data_mine.style}}'><img src='images/icons/style.png' /><br />Style</a>
            </td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#style-condition' data-toggle='tooltip' data-original-title='{{site.data.data_mine.style_condition}}'><img src='images/icons/style-condition.png' /><br />Style Condition</a>
            </td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <img src='images/icons/tree-connector-elbow.png' />
            </td>
            <td>
                <a href='#style' data-toggle='tooltip' data-original-title='{{site.data.data_mine.style}}'><img src='images/icons/style.png' /><br />Style</a>
            </td>
            <td></td>
        </tr>
    </tbody>
</table>





## Data Mine

<img src='images/icons/150-data-mine.png' />

**{{site.data.data_mine.data_mine}}**

In a way, data mines are catalogs of bots that anyone may create. This hierarchy provides all the tools required to create sensors, indicators, and plotters, with minimal coding required.

Because the hierarchy provides definitions, it does not intervene in the execution of bots. Instead, the definitions in data mines are instantiated from the Network hierarchy by bot instances. Bot instances and process instances are the ones running the code according to the definitions in the corresponding data mine.

### Adding a Data Mine

To add a data mine, select *Add Data Mine* on the workspace node menu.

### Configuring a Data Mine

Select *Configure Data Mine* on the menu to access the configuration.

```json
{
"codeName": "Supermine"
}
```

* ```codeName``` is the name of the data mine as used within the code of the system.







## Indicator Bot

<img src='images/icons/150-indicator-bot.png' />

**{{site.data.data_mine.indicator_bot}}**

The indicator bot node holds all definitions required for an indicator bot to function. Definitions are split between the definition of processes and products. Processes are algorithms that go through an input dataset, perform certain calculations, and produce an output. Part of that output is the data products the bot creates.

### Adding an Indicator Bot

To add an indicator bot, select *Add Indicator Bot* on the data mine node menu. An indicator bot is created along with the basic structure of nodes required to define it.

### Configuring an Indicator Bot

Select *Configure Bot* on the menu to access the configuration.

```json
{
"codeName": "Super",
"repo": "Super-Indicator-Bot"
}
```

* ```codeName``` is the name of the bot as used within the code of the system.







## Process Definition

<img src='images/icons/150-process-definition.png' />

**{{site.data.data_mine.process_definition}}**

As hinted above, most bots, in particular indicators, have two different processes. The reason is that different data structures need to be handled in different manners. The Multi-Period-Daily process handles daily files, while the Multi-Period-Market process handles market files.

### Adding a Process Definition

To add a process definition, select *Add Process Definition* on the bot's menu. A process definition node is created along with the basic structure of nodes comprising the definition.

### Configuring a Process Definition

Select *Configure Process* on the menu to access the configuration.

**Multi-Period-Market:**

```json
{
  "codeName": "Multi-Period-Market",
  "description": "Brief description of what the bot does.",
  "startMode": {
    "allMonths": {
    "run": "false",
    "minYear": "",
    "maxYear": ""
  },
  "oneMonth": {
    "run": "false",
    "year": "",
    "month": ""
  },
  "noTime": {
      "run": "true"
    },
    "fixedInterval": {
      "run": "false",
      "interval": 0
    }
  },
  "deadWaitTime": 0,
  "normalWaitTime": 0,
  "retryWaitTime": 10000,
  "sleepWaitTime": 3600000,
  "comaWaitTime": 86400000,
  "framework": {
    "name": "Multi-Period-Market",
    "startDate": {
    },
    "endDate": {
    }
  }
}
```

**Multi-Period-Daily:**

```json
{
  "codeName": "Multi-Period-Daily",
  "description": "Brief description of what the bot does.",
  "startMode": {
    "allMonths": {
      "run": "false",
      "minYear": "",
      "maxYear": ""
    },
    "oneMonth": {
      "run": "false",
      "year": "",
      "month": ""
    },
    "noTime": {
      "run": "true"
    },
    "fixedInterval": {
      "run": "false",
      "interval": 0
    }
  },
  "deadWaitTime": 0,
  "normalWaitTime": 0,
  "retryWaitTime": 10000,
  "sleepWaitTime": 3600000,
  "comaWaitTime": 86400000,
  "framework": {
    "name": "Multi-Period-Daily",
    "startDate": {
      "takeItFromStatusDependency": 0
    },
    "endDate": {
      "takeItFromStatusDependency": 1
    }
  }
}
```

Both configurations deal with certain aspects of the internal workings of these kinds of processes. These are the ones to be adjusted when creating a new bot:

* ```codeName``` is the name of the process as used within the code of the system; for consistency, always use ```Multi-Period-Market``` and ```Multi-Period-Daily``` accordingly.

* ```description``` is a short description of what the bot does.








## Process Output

<img src='images/icons/150-process-output.png' />

**{{site.data.data_mine.process_output}}**

### Adding a Process Output

To add a process output node, select *Add Missing Items* on the process definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.









## Output Dataset

<img src='images/icons/150-output-dataset.png' />

**{{site.data.data_mine.output_dataset}}**

There are other effects of establishing a reference from the output dataset to a product dataset definition. Upon execution, every time a process finishes a processing cycle, it triggers an event that may be consumed by other entities. This event indicates that the datasets impacted by the process have been updated.

An example of other entities that may be listening to such events is that of plotters. Plotters read datasets and create graphical representations of this data over the charts. Charts are constantly updating the information in the form of candles and indicators in realtime, synchronized with the data being extracted from the exchange by the sensor bot. That kind of automatism is possible thanks to the events that processes trigger every time an execution cycle is finished, signaling to everyone listening that new data is available on each of the impacted datasets.

[![Indicators-Process-Output-01](https://user-images.githubusercontent.com/13994516/68976798-f01cf400-07f6-11ea-9ffb-198b5853a220.gif)](https://user-images.githubusercontent.com/13994516/68976798-f01cf400-07f6-11ea-9ffb-198b5853a220.gif)

The image above shows the typical references from output datasets to datasets definitions.

### References

An output dataset must reference a dataset definition.

### Adding an Output Dataset

To add an output dataset, select *Add Output Dataset* on the process output node menu.

{% include tip.html content="Remember that an output dataset must reference a valid dataset definition after creating the output dataset." %}







## Process Dependencies

<img src='images/icons/150-process-dependencies.png' />

**{{site.data.data_mine.process_dependencies}}**

While processes run autonomously, most processes participate in a value-adding chain by which a process produces a data product that other processes may consume as an input to be processed further. This means that bots&mdash;while autonomous in their particular jobs&mdash;do depend both on other bots and on the data other bots produce.

### Adding Process Dependencies

To add a process dependencies node, select *Add Missing Items* on the process definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.






## Status Dependency

<img src='images/icons/150-status-dependency.png' />

**{{site.data.data_mine.status_dependency}}**

The reference is established to acquire the information relative to what the target process is doing. For example, by reading a status report a process may learn when was the last time the referenced process ran, and what was the last file processed.

The status report referenced may belong to the same process&mdash; which is called a self-reference. In such a case, the process is learning what it did the last time it ran. Also, the status report referenced may belong to another process&mdash;another bot. In that case, the dependency may be of the Market Starting Point or Market Ending Point types.

* **Self Reference** is mandatory, as a process needs to read it's own status report every time it wakes up.

* **Market Starting Point** is a status dependency existing on Multi-Period-Daily processes so that the process establishing the reference learns the datetime of the start of the market. Usually, the reference is established with the sensor's Historic-Trades process status report. Multi-Period-Market processes do not have this type of status dependency as the date of the start of the market is implied in their dataset (a single file with all market data).

* **Market Ending Point** is a status dependency existing both in Multi-Period-Market and Multi-Period-Daily processes so that the process establishing the reference knows the datetime of the end of the market.

[![Indicators-Process-Dependencies-01](https://user-images.githubusercontent.com/13994516/68991956-dfa36280-0864-11ea-87ec-f0e4e3b7bf0f.gif)](https://user-images.githubusercontent.com/13994516/68991956-dfa36280-0864-11ea-87ec-f0e4e3b7bf0f.gif)

The image above shows a case of a self-reference status dependency as well as a market ending point status dependency.

### Adding a Status Dependency

To add a status dependency, select *Add Status Dependency* on the process dependencies node menu.

{% include tip.html content="Remember that a status dependency must be configured, and must establish a reference to the appropriate status report." %}

### Configuring a Status Dependency

Select *Configure Status Dependency* on the menu to access the configuration.

```json
{ 
"mainUtility": "Self Reference|Market Starting Point|Market Ending Point"
}
```

* ```mainUtility``` determines the type of status dependency, with possible values being ```Self Reference```, ```Market Starting Point```, or ```Market Ending Point```.






## Data Dependency

<img src='images/icons/150-data-dependency.png' />

**{{site.data.data_mine.data_dependency}}**

Most bots consume data other bots have produced. Because bots need the data as input for their calculations, processes establish a data dependency with the dataset definitions of other bots. The reference provides the process with all the information needed to decode the dataset, enabling it to perform the required calculations.

[![Indicators-Process-Dependencies-02](https://user-images.githubusercontent.com/13994516/68993034-7840df00-0873-11ea-804d-d24e88ce25f7.gif)](https://user-images.githubusercontent.com/13994516/68993034-7840df00-0873-11ea-804d-d24e88ce25f7.gif)

The image above shows data dependencies in one bot referencing dataset definitions of another bot.

### Adding a Data Dependency

To add a data dependency, select *Add Data Dependency* on the process dependencies node menu.

{% include tip.html content="Remember that a data dependency must establish a reference to the appropriate dataset definition." %}






## Status Report

<img src='images/icons/150-status-report.png' />

**{{site.data.data_mine.status_report}}**

Bots do not run continuously. Instead, they run in cycles. A cycle usually lasts until there is no more data to process, and once they finish, they shut down until the next cycle is due. A status report is a file every bot writes at the end of each cycle with information about the last run, including the datetime of the run and the last record processed.

A status report may be consumed by the same bot producing it, or by other bots.

### Adding a Status Report

To add a status report, select *Add Missing Items* on the process definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.







## Execution Started Event

<img src='images/icons/150-execution-started-event.png' />

**{{site.data.data_mine.execution_started_event}}**

These references determine when a process is due for another run. By listening to the execution finished event of the process it depends on, it may wake up just in time to process the new batch of data the dependency has just delivered.

Bots form a sort of multi-branched execution sequence with an indeterminate number of dependencies. Every time the bot further down the tree of dependencies finishes a cycle, it triggers the execution of multiple bots listening to its execution finished event.

### Adding an Execution Started Event

To add an execution started event, select *Add Missing Items* on the process definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.

{% include tip.html content="Remember that an execution started event must establish a reference to the appropriate execution finished event." %}







## Execution Finished Event

<img src='images/icons/150-execution-finished-event.png' />

**{{site.data.data_mine.execution_finished_event}}**

The execution finished event is responsible for triggering the execution of every process that depends on the data a bot produces. If bot Alice depends on bot Bob, Alice listens to the execution finished event of Bob so that it may start a new execution cycle as soon as Bob finishes its cycle. Alice listens to Bob's execution finished event by establishing a reference from its execution started event.

[![Indicators-Process-Execution-Started-Finished-Events-01](https://user-images.githubusercontent.com/13994516/68993254-39605880-0876-11ea-9ee7-9f49976bd2dc.gif)](https://user-images.githubusercontent.com/13994516/68993254-39605880-0876-11ea-9ee7-9f49976bd2dc.gif)

The image above shows a reference established from the execution started event of a process to the execution finished event of another process.

### Adding an Execution Finished Event

To add an execution finished event, select *Add Missing Items* on the process definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.





## Product Definition

<img src='images/icons/150-product-definition.png' />

**{{site.data.data_mine.product_definition}}**

A bot may feature multiple products, thus, there may be multiple product definitions. Three main aspects need to be defined in terms of products: the characteristics of the dataset, the composition of each record, and the way records are calculated.

{% include note.html content="A product definition usually references a plotter module, which provides a graphic representation of the underlying dataset" %}

### Adding a Product Definition

To add a product definition, select *Add Product Definition* on the bot's node menu. A product definition is created along with the basic structure of nodes required to make up a product.

### Configuring a Product Definition

Select *Configure Product* on the menu to access the configuration.

```json
{
  "codeName": "New-Product-Name",
  "singularVariableName": "newProductName",
  "pluralVariableName": "newProductNames"
}
```

* ```codeName``` is the name of the product as it is used within the bot's code.

* ```singularVariableName``` is the singular form of the name of the variable representing the product, as is used on strategies (*i.e.:* ```bollingerChannel.direction```, where *bollingerChannel* is the name of the product as defined in its configuration and *direction* is the name of the property.

* ```pluralVariableName``` is the plural form of the variable.






## Dataset Definition

<img src='images/icons/150-dataset-definition.png' />

**{{site.data.data_mine.dataset_definition}}**

A good part of what makes datasets easy to consume by other bots is the fact that they are standardized in terms of their structure. It is that structure that is specified in the dataset definitions.

### Adding a Dataset Definition

To add a dataset definition, select *Add Dataset Definition* on the bot's node menu.

### Configuring a Dataset Definition

Select *Configure Definition* on the menu to access the configuration.

**Multi-Period-Market:**

```json
{
  "codeName": "Multi-Period-Market",
  "type": "Market Files",
  "validPeriods": [ "24-hs", "12-hs", "08-hs", "06-hs", "04-hs", "03-hs", "02-hs", "01-hs" ],
  "filePath": "Data-Mine-Name/Bot-Name/@Exchange/Output/Product-Name/Multi-Period-Market/@Period",
  "fileName": "@BaseAsset_@QuotedAsset.json"
}
```

**Multi-Period-Daily:**

```json
{
  "codeName": "Multi-Period-Daily",
  "type": "Daily Files",
  "validPeriods": [ "45-min", "40-min", "30-min", "20-min", "15-min", "10-min", "05-min", "04-min", "03-min", "02-min", "01-min" ],
  "filePath": "Data-Mine-Name/Bot-Name/@Exchange/Output/Product-Name/Multi-Period-Daily/@Period/@Year/@Month/@Day",
  "fileName": "@BaseAsset_@QuotedAsset.json",
  "dataRange": {
    "filePath": "Data-Mine-Name/Bot-Name/@Exchange/Output/Product-Name/Multi-Period-Daily",
    "fileName": "Data.Range.@BaseAsset_@QuotedAsset.json"
  }
}
```


* ```codeName``` is the name of the dataset as used within the code.

* ```type``` refers to the type of dataset; possible values are ```Market Files``` and ```Daily Files```.

* ```validPeriods``` refers to the time frames handled by the dataset.

* ```filePath``` sets the path on which files are stored; the proper name of the data mine, the bot and the product need to be entered.

* ```fileName``` sets the name of the files that constitute the dataset.






## Record Definition

<img src='images/icons/150-record-definition.png' />

**{{site.data.data_mine.record_definition}}**

Bots store data in the form of arrays of records, in a minimized plain text file and the standard JSON format, although not as objects with named properties, but as arrays.

[![image](https://user-images.githubusercontent.com/13994516/68998023-303eae00-08ad-11ea-9baa-ddea801c7d6d.png)](https://user-images.githubusercontent.com/13994516/68998023-303eae00-08ad-11ea-9baa-ddea801c7d6d.png)

The choice of plain text for storage of large volumes of information has benefits in terms of not requiring any sophisticated technology to store and serve the data (*i.e.:* no database is required).

Best practice indicates that there needs to be a balance between the amount of data that is stored and calculations that may be performed at runtime.

Storing objects with named properties in the JSON format would be inappropriate as labels would repeat over and over, creating a ridiculous amount of unnecessary information. However, storing arrays in the JSON standard facilitates the handling of files in the context of JavaScript and Node.JS.

### Adding a Record Definition

To add a record definition node, select *Add Record Definition* on the product definition node menu. A record definition node is created along with the first record property.






## Record Property

<img src='images/icons/150-record-property.png' />

**{{site.data.data_mine.record_property}}**

Records may have as many properties as required. 

{% include important.html content="The order in which record properties are defined around the parent record definition node is the order in which they are stored in the actual record." %}

{% include tip.html content="The first two records are usually the *begin* and *end* records, featuring the corresponding datetimes that indicate when the record starts and ends." %}

### Adding a Record Property

To add a record property, select *Add Record Property* on the bot's node menu.

### Configuring a Record Property

Select *Configure Property* on the menu to access the configuration.

```js
{
  "codeName": "record-name",
  "isString": false,
  "isCalculated": true
}
```

* ```codeName``` is the name of the record as it is used in the bot's code. 

* ```isString``` determines if the field is a text string or if, in turn, is a numeric field. Dates are stored in the *epoch* format, which is numeric. The reason why this configuration is important is that fields that are strings need to be stored between "double quotes".

* ```isCalculated``` determines if the field is stored in the dataset or if, instead, is calculated at a later stage. A value *true* means that the record is not stored. In the case ```isCaculated``` is not defined in the configuration, it is assumed to be false.

[![Indicators-Record-Definitions-01](https://user-images.githubusercontent.com/13994516/69139160-3ce72000-0ac0-11ea-9566-a259c9ea6194.gif)](https://user-images.githubusercontent.com/13994516/69139160-3ce72000-0ac0-11ea-9566-a259c9ea6194.gif)

The image above shows a record definition with four record properties.





## Formula

<img src='images/icons/150-formula.png' />

**{{site.data.data_mine.formula}}**

A formula may act in slightly different ways depending on the ```isCaculated``` attribute in the record property configuration:

* When a property is calculated (```"isCalculated": true```), the formula assigns to the property a value that is calculated in the calculations procedure. Even if the property is not stored in the dataset, it is made available as a *calculated property* to other bots that may have the dataset as input.

* When a property is not calculated (```"isCalculated": false``` or the attribute is not defined in the configuration) the formula is applied in the data building procedure.

### Adding a Formula

To add a formula, select *Add Formula* on the record property menu.








## Calculations Procedure

<img src='images/icons/150-calculations-procedure.png' />

**{{site.data.data_mine.calculations_procedure}}**

Bots store data in the minimized array format as a strategy to build the lightest possible datasets. For the same reason, a bot may choose not to store easily calculable information.

For example, imagine an indicator that stores buy and sell volumes... does it *need* to store the total volume? Given that it is so easy to calculate, the answer is *probably* no. IT is up to the developer to decide, but it is certainly not required.

{% include note.html content="It may not be worthy to store information that can be easily calculated at a later stage." %}

The calculations procedure calculates the properties that the developer chose not to store in the dataset.

### Adding a Calculations Procedure

To add a calculations procedure, select *Add Missing Items* on the product definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.







## Procedure Loop

<img src='images/icons/150-procedure-loop.png' />

**{{site.data.data_mine.procedure_loop}}**

This is an example of a procedure loop code snippet, in particular, the code that calculates the Popular SMAs product of the Simple Moving Average (SMA) indicator.

{% include important.html content="Calculation procedures may only access data up to 48 hours in the past counting from the datetime of the record being processed. For that reason, the calculation of a moving average requires temporarily storing data in an array." %}

```js
/* Loop Code. */

let candle = record.current // Our main dependencies are candles 
variable.last200.push(candle.close) // Add the current close value to the last 200 array.

if (variable.last200.length > 200) {
    variable.last200.splice(0, 1) // Remove the first element of the array to keep it at a maximun of 200 elements.
}

variable.sma20 = calculateSMA(20)
variable.sma50 = calculateSMA(50)
variable.sma100 = calculateSMA(100)
variable.sma200 = calculateSMA(200)

function calculateSMA(periods) {  // Having a function saves us from duplicating code.
    /* We check we have enough values to make the calculation */
    if (variable.last200.length < periods) { return 0 } // If we dont, we define the value is zero.

    let sum = 0 // Initialize sum variable. 
    for (let i = variable.last200.length - periods; i < variable.last200.length; i++) { // Iterate through the last periods
        sum = sum + variable.last200[i]
    }
    let sma = sum / periods
    return sma
}
```

### Adding a Procedure Loop

To add a procedure loop, select *Add Procedure loop* on the corresponding procedure node menu. A procedure loop node is created along with the corresponding JavaScript node.




## JavaScript Code

<img src='images/icons/150-javascript-code.png' />

**{{site.data.data_mine.javascript_code}}**

The platform allows developers great flexibility as all valid JavaScript code is allowed. 

{% include important.html content="Until a robust JavaScript editor is implemented on the UI, it is recommended to write code on an external editor and paste it in the UI code bubble to ensure consistency." %}

### Adding a JavaScript Code

To add a JavaScript code node, select *Add Code* on the corresponding parent node menu. 






## Procedure Initialization

<img src='images/icons/150-procedure-initialization.png' />

**{{site.data.data_mine.procedure_initialization}}**

procedure_initialization: "The procedure initialization is used to initialize variables used by the procedure loop."

This is an example of a procedure loop code snippet, in particular, the code that initializes the array used in the calculation of the Popular SMAs product of the Simple Moving Average (SMA) indicator.

```js
/* Initialization Code. */
variable.last200 = []
```

### Adding a Procedure Initialization

To add a procedure initialization, select *Add Procedure Initialization* on the corresponding procedure node menu. A procedure initialization node is created along with the corresponding JavaScript node.











## Data Building Procedure

<img src='images/icons/150-data-building-procedure.png' />

**{{site.data.data_mine.data_building_procedure}}**

This procedure holds the core logic of the bot, as it features the code that performs the calculations required to produce the new data set. The code is split between a procedure initialization and a procedure loop.

### Adding a Data Building Procedure

To add a data buildings procedure, select *Add Missing Items* on the product definition node menu. Items that may be missing are created along with the basic structure of nodes required to define them.








## Plotter

<img src='images/icons/150-plotter.png' />

**{{site.data.data_mine.plotter}}**

Plotters usually have a one-to-one relationship with bots, as they are often created as a customized solution. However, in practice, there is no constraint to creating any number of plotters for a single bot or a single plotter for multiple bots.

The overall workflow of a plotter, while reading a dataset, consists in:

* Applying a set of rules to identify certain data points;

* Use those points to form lines and polygons;

* Apply graphical styles to those lines and polygons.

Those actions are performed recursively for each record, and the graphics are plotted on the charts in real-time as data is processed.





## Plotter Module

<img src='images/icons/150-plotter-module.png' />

**{{site.data.data_mine.plotter_module}}**

A single plotter may have several modules. Different modules may be used to plot each product of the bot, or as best suits the expected use-pattern.

[![Plotter-Module-01](https://user-images.githubusercontent.com/13994516/71016077-eab41180-20f4-11ea-87e7-7262ff10a1ab.gif)](https://user-images.githubusercontent.com/13994516/71016077-eab41180-20f4-11ea-87e7-7262ff10a1ab.gif)

{% include important.html content="For a bot to use a plotter, the corresponding product definition must establish a reference with the plotter module built to interpret the dataset." %}

[![Plotter-Module-02-Product-Link](https://user-images.githubusercontent.com/13994516/71016079-eab41180-20f4-11ea-8afb-96321f9c68d8.gif)](https://user-images.githubusercontent.com/13994516/71016079-eab41180-20f4-11ea-8afb-96321f9c68d8.gif)

### Adding a Plotter Module

To add a plotter module, select *Add Plotter Module* on the plotter node menu.

### Configuring a Plotter Module

Select *Configure Plotter Module* on the menu to access the configuration.

```json
{
    "codeName": "Module Name",
    "isLegacy": true,
        "icon": "histogram"
}
```

* ```codeName``` is the name used in the code to refer to the module.

* ```isLegacy``` is ```true``` for plotters modules developed entirely in JavaScript, and is ```false``` or doesn't show in the configuration for plotters built with the tools featured in the data mine hierarchy.

* ```icon``` is the name of the image that illustrates the corresponding layer in the Layers Panel. In case the banner is not specified, the *default banner* is used. Current possible values are:


| Value | Image|
| :---: | :---: |
| ```Default``` | ![Default-Banner](https://user-images.githubusercontent.com/13994516/70896073-5bbdd100-1ff0-11ea-84e3-5bd90475976f.png) |
| ```Histogram``` | ![Histogram-Banner](https://user-images.githubusercontent.com/13994516/70896074-5bbdd100-1ff0-11ea-8dad-ccc6cfe64beb.png) |
| ```Band``` | ![Bands-Banner](https://user-images.githubusercontent.com/13994516/70896072-5bbdd100-1ff0-11ea-8626-61c36bd22a3c.png) |
| ```Moving Average``` | ![Moving-Average-Banner](https://user-images.githubusercontent.com/13994516/70896075-5bbdd100-1ff0-11ea-9909-dae33e57f65f.png) |
| ```Oscillator``` | ![Oscillator-Banner](https://user-images.githubusercontent.com/13994516/70896076-5c566780-1ff0-11ea-8a5b-20077257c560.png) |
| ```Trend``` | ![trends-banner](https://user-images.githubusercontent.com/13994516/70989177-744aeb80-20c3-11ea-88f5-d10473fa79b9.png) |

Custom images may be added too. To do that:

1. name the image in the following format: ```The-Image-Name-Icon.png```;

1. place images in the ```WebServer\Images\``` folder;

1. in the configuration of the module, use the name without the *-Icon* ending (e.g.: ```"icon": "The-Image-Name"```)









## Plotter Panel

<img src='images/icons/150-plotter-panel.png' />

**{{site.data.data_mine.plotter_panel}}**

Beyond the graphic representation of data over the charts, plotters may also feature a *data panel*, that is, a numerical representation of the data showing the exact figures corresponding to the column or period that is in focus (the point of the charts where the mouse pointer is at any point).

### Adding a Plotter Panel

To add a plotter panel, select *Add Plotter Panel* on the plotter module node menu.








## Panel Data

<img src='images/icons/150-panel-data.png' />

**{{site.data.data_mine.panel_data}}**

The system renders a panel featuring a centered, single-column vertical arrangement of data, with a label and a data field right below it. The label of each data field on the panel is given&mdash;by default&mdash;by the label set for each panel data node.

### Adding a Panel Data

To add a panel data node, select *Add Panel Data* on the plotter panel menu.

### Configuring a Panel Data

Select *Configure Panel Data* on the menu to access the configuration.

```json
{
    "valueDecimals": 2
}
```

* ```valueDecimals``` sets the number of decimals to be shown on the corresponding data field.

To override the default manner in which the data is assembled on the panel, the following properties may be included and defined:

```json
{
    "labelText": "The Label",
    "labelPosition": 15,
    "valuePosition": 20,
    "valueDecimals": 2
}
```

* ```labelPosition``` and ```valuePosition``` represent the vertical distance of the corresponding fields to the top margin of the panel.






## Data Formula

<img src='images/icons/150-data-formula.png' />

**{{site.data.data_mine.data_formula}}**

### Adding a Data Formula

To add a data formula, select *Add Data Formula* on the plotter panel menu.




## Shapes

<img src='images/icons/150-shapes.png' />

**{{site.data.data_mine.shapes}}**

A plotter recursively renders graphics for each period or candle. This means that a definition of what shapes need to be drawn for a single period is required. The plotter does the same thing for every period or candle that is visible on the screen at any point in time, for any time frame, as long as the corresponding data is available.

[![Shapes-01-show-off](https://user-images.githubusercontent.com/13994516/71016080-eab41180-20f4-11ea-84c6-a514b87d568f.gif)](https://user-images.githubusercontent.com/13994516/71016080-eab41180-20f4-11ea-84c6-a514b87d568f.gif)

In general terms, the process of defining what is going to be rendered on the screen consist of the following four steps:

 1. Identifying points defined by ```[x,y]``` coordinates
 2. Defining polygons
 3. Defining default styles
 4. Defining conditional styles

### Adding Shapes

To add a shapes node, select *Add Shapes* on the plotter module menu.






## Chart Points

<img src='images/icons/150-chart-points.png' />

**{{site.data.data_mine.chart_points}}**

The definition of a point consists of the name of the point and the corresponding values for the ```x``` and ```y``` coordinates. To create such definitions, point and point formulas are used.

### Adding a Chart Points

To add a chart points node, select *Add Chart Points* on the shapes menu.





## Point

<img src='images/icons/150-point.png' />

**{{site.data.data_mine.point}}**

These coordinate points are used to define polygons. Values for ```[x,y]```coordinates are entered with a point formula.

{% include tip.html content="Each point should be given a significant name so that it is easier to identify them at the time of establishing references with polygon vertices." %}

### Adding a Point

To add a point, select *Add Point* on the chart points node menu.






## Point Formula

<img src='images/icons/150-point-formula.png' />

**{{site.data.data_mine.point_formula}}**

To represent some form of variation of the price or a price derivative over time, a typical point formula consists of the following two coordinates: ```x = datetime``` and ```y = rate```.

For example:

**Point *SMA 20 Begin***
```js
x = record.begin
y = record.previous.sma20
```

The example above shows the definition of the first of two points necessary to draw the segment of the 20-periods SMA curve for any particular period or candle. In this case, ```x = record.begin``` is the starting datetime of the period and ```y = record.previous.sma20``` is the rate of the 20-periods SMA of the previous period.

{% include note.html content="The above variables are constructed with information originating at the product definition that references the corresponding plotter module." %}

To complete the line segment corresponding to a single period, the closing datetime of the period and the closing rate for the 20-periods SMA are required:

**Point *SMA 20 End***
```js
x = record.end
y = record.sma20
```

The above system works very well for plotting all sorts of information over the candles, on the charts.

An oscillator like RSI too needs the definition of the starting and ending datetime of the period as the value for the *x-axis*. However, the value for *axis y* fits a different scale.

Anyway, the points definition is just as straight forward, for example:

**Point *RSI Begin***
```js
x = record.begin
y = record.previous.value
```

**Point *RSI End***
```js
x = record.end
y = record.value
```

Points do not necessarily need to refer to values on the dataset produced by the corresponding data product. For example, absolute values for the *y-axis* may be used to describe fixed graphical elements, for instance, a horizontal line, or a box.

**Point *Begin 20***
```js
x = record.begin
y = 20
```

**Point *End 20***
```js
x = record.end
y = 20
```

**Point *Begin 30***
```js
x = record.begin
y = 30
```

**Point *End 30***
```js
x = record.end
y = 30
```

The above four points are used to paint the background of the 20 to 30 value range of the RSI chart. The first two points are also used to draw the dotted line signaling the 20-value mark, and the last two are used for the dotted line indicating the 30-value mark.

{% include note.html content="The reason from separating the definition of points from the definition of polygons is that any point may be used by one or more polygons." %}

### Adding a Point Formula

To add a point formula, select *Add Point Formula* on the point node menu.










## Polygon

<img src='images/icons/150-polygon.png' />

**{{site.data.data_mine.polygon}}**

Polygons are defined by two or more vertices, which map points in a charts point. The graphic representation of polygons originates in styles applied to either or both polygon bodies and polygon borders. 

{% include note.html content="The order in which polygons are ordered around the parent shapes node determines the order in which they are drawn on the screen. In cases on which polygons intersect, those drawn last are drawn on top of those drawn first." %}

### Adding a Polygon

To add a polygon, select *Add Polygon* on the shapes node menu.





## Polygon Vertex

<img src='images/icons/150-polygon-vertex.png' />

**{{site.data.data_mine.polygon_vertex}}**

polygon_vertex: "A polygon vertex is a reference to a point defined in the chart points, constituting a specific coordinate to be used as a vertex of a shape."

Vertices are the main element defining polygons. Once created, each vertex must establish a reference to the corresponding point in the charts point.

[![Vertex-01-add-and-link](https://user-images.githubusercontent.com/13994516/71016081-eb4ca800-20f4-11ea-8fee-4d38ecfb0596.gif)](https://user-images.githubusercontent.com/13994516/71016081-eb4ca800-20f4-11ea-8fee-4d38ecfb0596.gif)

Drawing curves requires two vertices. Painting areas, such as the background of a chart, likely requires four vertices. Note that vertices are not capable of featuring a style. Instead, styles are applied to polygon borders and polygon bodies.

{% include important.html content="Bear in mind that the order in which vertices in a polygon are arranged around the parent polygon node when their *rotational symmetry* property is selected, is the order in which the plotter computes the points. This means that points need to be in the correct order, for example, when drawing a box. Imagine drawing a box on a piece of paper without lifting the pencil... that is how the plotter does it." %}

### Adding a Polygon Vertex

To add a polygon vertex, select *Add Polygon Vertex* on the polygon node menu.

{% include tip.html content="Remember that a vertex must establish a reference to a point in the charts point to be properly defined" %}





## Polygon Border

<img src='images/icons/150-polygon-border.png' />

**{{site.data.data_mine.polygon_border}}**

A polygon border needs at least two vertices to be defined. A border serves to create a *stroke* for the outlines of any sort of polygon, either closed or open, by giving it a style.

### Adding a Polygon Border

To add a polygon border, select *Add Polygon Border* on the polygon node menu.



## Style

<img src='images/icons/150-style.png' />

**{{site.data.data_mine.style}}**

A style applied to a polygon body or a polygon border node acts as the default style.

### Adding a Style

To add a style, select *Add Style* on a polygon border or polygon body node menu.

### Configuring a Style

Select *Configure Style* on the menu to access the configuration.

A typical definition for a polygon body style looks like this:

```json
{
    "default": {
        "opacity": 0.2,
        "paletteColor": "UI_COLOR.DARK_TURQUOISE"
    },
    "atMousePosition": {
        "opacity": 0.3,
        "paletteColor": "UI_COLOR.DARK_TURQUOISE"
    }
}
```

A typical definition for a polygon border style has a couple more properties:

```json
{
    "default": {
        "opacity": 0.2,
        "lineWidth": 1,
        "lineDash": [0,0],
        "paletteColor": "UI_COLOR.DARK_TURQUOISE"
    },
    "atMousePosition": {
        "opacity": 0.3,
        "lineWidth": 2,
        "lineDash": [0,0],
        "paletteColor": "UI_COLOR.RUSTED_RED"
    }
}
```

The first section of the definition refers, as explicitly stated, to the default state of the style.

The second section refers to the style assigned to the column or period on which the mouse pointer is located. This is very useful for highlighting the specific zone of interest as the user browses the charts.

* ```opacity``` is probably self-explanatory: it may range from ```0``` for a fully transparent object to ```1``` for a solid object.

* ```paletteColor``` sets the color for the *fill* or *stroke* in cases of polygon bodies and polygon borders respectively. Use the variable ```UI_COLOR``` followed by a ```.``` and any of the properties in the following list for a selection of currently available colors:

| Variable Value | RGB Value | Color Sample |
| :--- | :---: | :------------------- |
| ```DARK``` | 48, 48, 54 | <span style="display: block; background: RGB(48, 48, 54); border: 1px solid black;">&nbsp;</span> |
| ```LIGHT``` | 234, 226, 222 | <span style="display: block; background: RGB(234, 226, 222); border: 1px black; border: 1px solid black;">&nbsp;</span> |
| ```GREY``` | 150, 150, 150 | <span style="display: block; background: RGB(150, 150, 150); border: 1px solid black;">&nbsp;</span> |
| ```LIGHT_GREY``` | 247, 247, 247 | <span style="display: block; background: RGB(247, 247, 247); border: 1px solid black;">&nbsp;</span> |
| ```WHITE``` | 255, 255, 255 | <span style="display: block; background: RGB(255, 255, 255); border: 1px solid black;">&nbsp;</span> |
| ```BLACK``` | 0, 0, 0 | <span style="display: block; background: RGB(0, 0, 0); border: 1px solid black;">&nbsp;</span> |
| ```GOLDEN_ORANGE``` | 240, 162, 2 | <span style="display: block; background: RGB(240, 162, 2); border: 1px solid black;">&nbsp;</span> |
| ```RUSTED_RED``` | 204, 88, 53 | <span style="display: block; background: RGB(204, 88, 53); border: 1px solid black;">&nbsp;</span> |
| ```GREEN``` | 188, 214, 67 | <span style="display: block; background: RGB(188, 214, 67); border: 1px solid black;">&nbsp;</span> |
| ```RED``` | 223, 70, 60 | <span style="display: block; background: RGB(223, 70, 60); border: 1px solid black;">&nbsp;</span> |
| ```PATINATED_TURQUOISE``` | 27, 153, 139 | <span style="display: block; background: RGB(27, 153, 139); border: 1px solid black;">&nbsp;</span> |
| ```TITANIUM_YELLOW``` | 244, 228, 9 | <span style="display: block; background: RGB(244, 228, 9); border: 1px solid black;">&nbsp;</span> |
| ```MANGANESE_PURPLE``` | 91,80, 122 | <span style="display: block; background: RGB(91,80, 122); border: 1px solid black;">&nbsp;</span> |
| ```TURQUOISE``` | 74, 207, 217 | <span style="display: block; background: RGB(74, 207, 217); border: 1px solid black;">&nbsp;</span> |
| ```DARK_TURQUOISE``` | 2, 149, 170 | <span style="display: block; background: RGB(2, 149, 170); border: 1px solid black;">&nbsp;</span> |

* ```lineWidth``` is the width of the border line, which should be greater than 0.

* ```lineDash``` is used to turn the border into a dashed-line; the first value corresponds to the length of the dash while the second value defines the length of the space.

{% include note.html content="When using dashed lines, bear in mind that the drawing from one column or period is independent of the next. Big values for dashes and spaces may not work well for lines that span several columns." %}









## Style Condition

<img src='images/icons/150-style-condition.png' />

**{{site.data.data_mine.style_condition}}**

Style conditions offer a way to introduce additional intelligence on the visual representation of data by using styles that respond to certain conditions.

For example, the *Percentage Bandwidth* plotter module assigns a different color to the Moving Average line when it's going up or down.

To do that, a style condition features it's own style so that, when the condition validates true, the new style is applied.

Style conditions me be created in a sequence so that the style may continue changing upon the validation of a series of style conditions. The system evaluates all style conditions in a sequential order determined by their position in the rotational symmetry around the parent node. Each condition that is met may modify or add up to the resulting style that is rendered on screen. That is, the final style is the result of the sequential application of the styles defined for each condition that is met, on top of the default style.

### Adding a Style Condition

To add a style condition, select *Add Style Condition* on a polygon border or polygon body node menu.

### Editing a Style Condition

Select *Edit Condition* on the menu to access the configuration.

Style conditions work pretty much like conditions used on trading systems. The main difference is that the variables available are solely those provided by the bot product definition that reference the corresponding plotter module.

To continue the example of the Percentage Bandwidth plotter, the following is the condition that determines the newly added styles:

```js
record.previous.movingAverage > record.movingAverage
```

As hinted earlier, when the condition is met, the default style is modified by a second style that may be created on the menu of the style condition node.

The definition of secondary styles is slightly different from that of the default style, as&mdash;in such cases&mdash;the ```atMousePosition``` property may no longer be defined:

```js
{
    "opacity": 0.55,
    "lineWidth": 1,
    "lineDash": [0,0],
    "paletteColor": "UI_COLOR.RED"
}
```











## Polygon Body

<img src='images/icons/150-polygon-body.png' />

**{{site.data.data_mine.polygon_body}}**

A polygon body needs at least three vertices to be defined. A body serves to create a *fill* for the outlines of any sort of polygon, either closed or open, by giving it a style.

### Adding a Polygon Body

To add a polygon body, select *Add Polygon Body* on the polygon node menu.
